# Marina Bot

Telegram-бот с мини-тестом (Q1-Q7), отложенным результатом и отправкой заявок в отдельный чат.

## Запуск

1. Установить зависимости:
```bash
npm i
```

2. Заполнить `.env` (минимум):
```env
BOT_TOKEN=...
LEADS_CHAT_ID=-1001234567890
OWNER_USERNAME=Mrs_Mishagina
```

Дополнительно:
```env
OWNER_ID=123456789
DB_PATH=./data/db.sqlite
ADMIN_MODE_OPEN=0
START_PHOTO=
```

3. Запустить:
```bash
npm start
```

## Обязательные env

- `BOT_TOKEN`: токен бота
- `LEADS_CHAT_ID`: чат для лидов (группа или личка владельца)
- `OWNER_USERNAME`: username Марины без `@` (для кнопки `Написать Марине`)

## Как узнать LEADS_CHAT_ID

1. Добавьте бота в нужную группу.
2. Временно выведите `ctx.chat.id` в обработчике сообщения и отправьте любое сообщение в группу.
3. Возьмите это значение и запишите в `LEADS_CHAT_ID`.

## Текущая логика

- `/start` показывает интро и кнопку `Пройти мини-тест ✅`.
- Вопросы стартуют только после нажатия кнопки.
- После Q7 результат отправляется через 15 секунд.
- Лид уходит только в `LEADS_CHAT_ID` и только один раз на сессию.
